<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to Python &amp; Data - 11&nbsp; Afternoon Exercises: Working with data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../what-next.html" rel="next">
<link href="../solutions/morning_exercises_solutions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../solutions/morning_exercises_solutions.html">Exercises solutions</a></li><li class="breadcrumb-item"><a href="../solutions/afternoon_exercises_solutions.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Afternoon Exercises: Working with data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/python-hex-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Introduction to Python &amp; Data</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/UtrechtUniversity/workshop-introduction-to-python" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Preparation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../installation-and-setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation &amp; Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-materials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshop Materials</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Python Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction_to_python_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Variables and printing output</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction_to_python_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Operators and built-in functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction_to_python_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data types, if-statements and for-loops</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction_to_python_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Write your own Python function</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Working With Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data-science-with-pandas-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reading and Exploring data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data-science-with-pandas-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Grouping, Indexing, Slicing, and Subsetting DataFrames</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data-science-with-pandas-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Combining DataFrames</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data-science-with-pandas-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Exercises solutions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../solutions/morning_exercises_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Morning Exercises: Python fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../solutions/afternoon_exercises_solutions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Afternoon Exercises: Working with data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../what-next.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What Next?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exercise-0" id="toc-exercise-0" class="nav-link active" data-scroll-target="#exercise-0"><span class="header-section-number">11.0.1</span> Exercise 0</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1"><span class="header-section-number">11.0.2</span> Exercise 1</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2"><span class="header-section-number">11.0.3</span> Exercise 2</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3"><span class="header-section-number">11.0.4</span> Exercise 3</a></li>
  <li><a href="#exercise-4" id="toc-exercise-4" class="nav-link" data-scroll-target="#exercise-4"><span class="header-section-number">11.0.5</span> Exercise 4</a></li>
  <li><a href="#exercise-5" id="toc-exercise-5" class="nav-link" data-scroll-target="#exercise-5"><span class="header-section-number">11.0.6</span> Exercise 5</a></li>
  <li><a href="#exercise-6-putting-it-all-together" id="toc-exercise-6-putting-it-all-together" class="nav-link" data-scroll-target="#exercise-6-putting-it-all-together"><span class="header-section-number">11.0.7</span> Exercise 6: Putting it all together</a></li>
  <li><a href="#exercise-7" id="toc-exercise-7" class="nav-link" data-scroll-target="#exercise-7"><span class="header-section-number">11.0.8</span> Exercise 7</a></li>
  <li><a href="#exercise-8" id="toc-exercise-8" class="nav-link" data-scroll-target="#exercise-8"><span class="header-section-number">11.0.9</span> Exercise 8</a></li>
  <li><a href="#exercise-9" id="toc-exercise-9" class="nav-link" data-scroll-target="#exercise-9"><span class="header-section-number">11.0.10</span> Exercise 9</a></li>
  <li><a href="#exercise-10" id="toc-exercise-10" class="nav-link" data-scroll-target="#exercise-10"><span class="header-section-number">11.0.11</span> Exercise 10</a></li>
  <li><a href="#exercise-11" id="toc-exercise-11" class="nav-link" data-scroll-target="#exercise-11"><span class="header-section-number">11.0.12</span> Exercise 11</a></li>
  <li><a href="#exercise-12" id="toc-exercise-12" class="nav-link" data-scroll-target="#exercise-12"><span class="header-section-number">11.0.13</span> Exercise 12</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/UtrechtUniversity/workshop-introduction-to-python/blob/main/solutions/afternoon_exercises_solutions.ipynb" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Afternoon Exercises: Working with data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>surveys_df <span class="op">=</span> pd.read_csv(<span class="st">'../../course_materials/data/surveys.csv'</span>) <span class="co"># in your notebook the path should be 'data/surveys.csv'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exercise-0" class="level3" data-number="11.0.1">
<h3 data-number="11.0.1" class="anchored" data-anchor-id="exercise-0"><span class="header-section-number">11.0.1</span> Exercise 0</h3>
<p>Type the following commands and check the outputs. Can you tell what each command does? What is the difference between commands with and without parenthesis?</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>surveys_df.shape <span class="co"># Answer: the dimensions of the dataframe</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>surveys_df.columns <span class="co"># Answer: the column names of the dataframe</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>surveys_df.index <span class="co"># Answer: the index (row labels) of the dataframe</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>surveys_df.dtypes <span class="co"># Answer: the data types of each column</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>surveys_df.head(<span class="op">&lt;</span>try_various_integers_here<span class="op">&gt;</span>) <span class="co"># Answer: the first n rows of the dataframe</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>surveys_df.tail(<span class="op">&lt;</span>try_various_integers_here<span class="op">&gt;</span>) <span class="co"># Answer: the last n rows of the dataframe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exercise-1" class="level3" data-number="11.0.2">
<h3 data-number="11.0.2" class="anchored" data-anchor-id="exercise-1"><span class="header-section-number">11.0.2</span> Exercise 1</h3>
<p>Perform some basic statistics on the weight column. For practical reasons, it can be useful to first create a variable <code>weight</code> that contains the just the weight column. It will make the code look a bit cleaner. Can you tell what each method listed below does? Look at our explorative plot, do the statistics make sense?</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>weight<span class="op">=</span>surveys_df[<span class="st">'weight'</span>] <span class="co"># Answer: creates a new variable that contains the weight column</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>weight.<span class="bu">min</span>() <span class="co"># Answer: the minimum value of the weight column</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>weight.<span class="bu">max</span>() <span class="co"># Answer: the maximum value of the weight column</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>weight.mean() <span class="co"># Answer: the mean value of the weight column</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>weight.std() <span class="co"># Answer: the standard deviation of the weight column</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>weight.count() <span class="co"># Answer: the number of non-NaN values in the weight column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exercise-2" class="level3" data-number="11.0.3">
<h3 data-number="11.0.3" class="anchored" data-anchor-id="exercise-2"><span class="header-section-number">11.0.3</span> Exercise 2</h3>
<ul>
<li>Swap the order of column names in <code>surveys_df[['plot_id', 'species_id']]</code></li>
<li>Repeat one of the column names like <code>surveys_df[['plot_id', 'plot_id', 'species_id']]</code>. What do the results look like and why?</li>
</ul>
<blockquote class="blockquote">
<p>Answer: the column names are repeated and the data is displayed twice. Column names do not have to be unique.</p>
</blockquote>
<ul>
<li>Which error occurs in <code>surveys_df['plot_id', 'species_id']</code> and why?</li>
</ul>
<blockquote class="blockquote">
<p>Answer: KeyError: (‘plot_id’, ‘species_id’). The column names are not in a list. We need double square brackets to select multiple columns.</p>
</blockquote>
<ul>
<li>Which error occurs in <code>surveys_df['speciess']</code>?</li>
</ul>
<blockquote class="blockquote">
<p>Answer: KeyError: ‘speciess’. The column name does not exist. Typo.</p>
</blockquote>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(surveys_df[[<span class="st">'species_id'</span>, <span class="st">'plot_id'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      species_id  plot_id
0             NL        2
1             NL        3
2             DM        2
3             DM        7
4             DM        3
...          ...      ...
35544         AH       15
35545         AH       15
35546         RM       10
35547         DO        7
35548        NaN        5

[35549 rows x 2 columns]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>surveys_df[[<span class="st">'plot_id'</span>, <span class="st">'plot_id'</span>, <span class="st">'species_id'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2</td>
<td>2</td>
<td>NL</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>3</td>
<td>3</td>
<td>NL</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>2</td>
<td>DM</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>7</td>
<td>7</td>
<td>DM</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>3</td>
<td>3</td>
<td>DM</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35544</td>
<td>15</td>
<td>15</td>
<td>AH</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35545</td>
<td>15</td>
<td>15</td>
<td>AH</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35546</td>
<td>10</td>
<td>10</td>
<td>RM</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35547</td>
<td>7</td>
<td>7</td>
<td>DO</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35548</td>
<td>5</td>
<td>5</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>35549 rows × 3 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>surveys_df[<span class="st">'plot_id'</span>, <span class="st">'species_id'</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>KeyError: ('plot_id', 'species_id')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>surveys_df[<span class="st">'speciess'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>KeyError: 'speciess'</code></pre>
</div>
</div>
</section>
<section id="exercise-3" class="level3" data-number="11.0.4">
<h3 data-number="11.0.4" class="anchored" data-anchor-id="exercise-3"><span class="header-section-number">11.0.4</span> Exercise 3</h3>
<p>What happens when you call:</p>
<ul>
<li><code>surveys_df[0:1]</code> Answer: shows the first row of the dataframe</li>
<li><code>surveys_df[:4]</code> Answer: shows the first 4 rows of the dataframe from index 0 to index 3</li>
<li><code>surveys_df[:-1]</code> Answer: shows all rows of the dataframe except the last row</li>
</ul>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>surveys_df[<span class="dv">0</span>:<span class="dv">1</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>surveys_df[:<span class="dv">4</span>] </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>surveys_df[:<span class="op">-</span><span class="dv">1</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">record_id</th>
<th data-quarto-table-cell-role="th">month</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">hindfoot_length</th>
<th data-quarto-table-cell-role="th">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>2</td>
<td>NL</td>
<td>M</td>
<td>32.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>3</td>
<td>NL</td>
<td>M</td>
<td>33.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>2</td>
<td>DM</td>
<td>F</td>
<td>37.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>7</td>
<td>DM</td>
<td>M</td>
<td>36.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>3</td>
<td>DM</td>
<td>M</td>
<td>35.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35543</td>
<td>35544</td>
<td>12</td>
<td>31</td>
<td>2002</td>
<td>15</td>
<td>US</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35544</td>
<td>35545</td>
<td>12</td>
<td>31</td>
<td>2002</td>
<td>15</td>
<td>AH</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35545</td>
<td>35546</td>
<td>12</td>
<td>31</td>
<td>2002</td>
<td>15</td>
<td>AH</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35546</td>
<td>35547</td>
<td>12</td>
<td>31</td>
<td>2002</td>
<td>10</td>
<td>RM</td>
<td>F</td>
<td>15.0</td>
<td>14.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35547</td>
<td>35548</td>
<td>12</td>
<td>31</td>
<td>2002</td>
<td>7</td>
<td>DO</td>
<td>M</td>
<td>36.0</td>
<td>51.0</td>
</tr>
</tbody>
</table>

<p>35548 rows × 9 columns</p>
</div>
</div>
</div>
</section>
<section id="exercise-4" class="level3" data-number="11.0.5">
<h3 data-number="11.0.5" class="anchored" data-anchor-id="exercise-4"><span class="header-section-number">11.0.5</span> Exercise 4</h3>
<p>What happens in the following two examples?</p>
<ul>
<li><code>surveys_df.iloc[0:4, 1:4]</code>;</li>
<li><code>surveys_df.loc[0:4, 1:4]</code>.</li>
</ul>
<p>How are the two commands different?</p>
<blockquote class="blockquote">
<p>Answer: iloc uses integer indices, loc uses labels. The first command will return the first 4 rows and the columns with integer indices 1, 2 and 3. The second command will return the first 4 rows and the columns with labels 1, 2 and 3. Since there are no columns with these labels, the second command will return an error.</p>
</blockquote>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(surveys_df.iloc[<span class="dv">0</span>:<span class="dv">4</span>, <span class="dv">1</span>:<span class="dv">4</span>])</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>surveys_df.loc[<span class="dv">0</span>:<span class="dv">4</span>, <span class="dv">1</span>:<span class="dv">4</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   month  day  year
0      7   16  1977
1      7   16  1977
2      7   16  1977
3      7   16  1977</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>TypeError: cannot do slice indexing on Index with these indexers [1] of type int</code></pre>
</div>
</div>
</section>
<section id="exercise-5" class="level3" data-number="11.0.6">
<h3 data-number="11.0.6" class="anchored" data-anchor-id="exercise-5"><span class="header-section-number">11.0.6</span> Exercise 5</h3>
<ul>
<li>Create a new DataFrame that only contains observations from the original with sex values that are not female or male. Print the number of rows in this new DataFrame. Verify the result by comparing the number of rows in the new DataFrame with the number of rows in the surveys DataFrame where sex is NaN (hint: there is a function <code>isnull</code>).</li>
</ul>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> surveys_df[(surveys_df[<span class="st">'sex'</span>] <span class="op">!=</span> <span class="st">'M'</span>) <span class="op">&amp;</span> (surveys_df[<span class="st">'sex'</span>] <span class="op">!=</span> <span class="st">'F'</span>)]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of rows not female or male:"</span>, <span class="bu">len</span>(df))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of rows NaN:"</span>, <span class="bu">len</span>(surveys_df[<span class="st">'sex'</span>].isnull()))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Unique values in column 'sex':"</span>, df[<span class="st">'sex'</span>].unique())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of rows not female or male: 2511
Number of rows NaN: 35549
Unique values in column 'sex': [nan]</code></pre>
</div>
</div>
</section>
<section id="exercise-6-putting-it-all-together" class="level3" data-number="11.0.7">
<h3 data-number="11.0.7" class="anchored" data-anchor-id="exercise-6-putting-it-all-together"><span class="header-section-number">11.0.7</span> Exercise 6: Putting it all together</h3>
<ol type="1">
<li>Clean the column <em>sex</em> (leave out samples of which we do not know whether they are male or female) and save the result as a new dataframe <code>clean_df</code>.</li>
<li>Fill undefined <em>weight</em> values with the mean of all valid weights in <code>surveys_df</code>.</li>
<li>Calculate the average weight of that new DataFrame <code>clean_df</code></li>
</ol>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sex is 'F' or 'M'. The `|` means or.</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>clean_df <span class="op">=</span> surveys_df[(surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'F'</span>) <span class="op">|</span> (surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'M'</span>)]</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative solution: select columns where 'not' sex is null. The `~` means not.</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>clean_df <span class="op">=</span> surveys_df[<span class="op">~</span>(surveys_df[<span class="st">'sex'</span>].isnull())]</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>clean_df.weight.fillna(surveys_df.weight.mean())</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Average weight of surveys_df:"</span>, surveys_df.weight.mean())</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Average weight of clean_df:"</span>, clean_df.weight.mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average weight of surveys_df: 42.672428212991356
Average weight of clean_df: 42.60316325896464</code></pre>
</div>
</div>
</section>
<section id="exercise-7" class="level3" data-number="11.0.8">
<h3 data-number="11.0.8" class="anchored" data-anchor-id="exercise-7"><span class="header-section-number">11.0.8</span> Exercise 7</h3>
<p>Let’s see in which plots animals get more food. Calculate the average weight per plot! Complete the code below.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>grouped_data <span class="op">=</span> surveys_df.groupby(<span class="st">"plot_id"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>grouped_data[<span class="st">'weight'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>plot_id
1     51.822911
2     52.251688
3     32.654386
4     47.928189
5     40.947802
6     36.738893
7     20.663009
8     47.758001
9     51.432358
10    18.541219
11    43.451757
12    49.496169
13    40.445660
14    46.277199
15    27.042578
16    24.585417
17    47.889593
18    40.005922
19    21.105166
20    48.665303
21    24.627794
22    54.146379
23    19.634146
24    43.679167
Name: weight, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="exercise-8" class="level3" data-number="11.0.9">
<h3 data-number="11.0.9" class="anchored" data-anchor-id="exercise-8"><span class="header-section-number">11.0.9</span> Exercise 8</h3>
<p>See below a more complex grouping example. Investigate the group keys and row indexes for this more complex grouping example. Why are there more than 48 groups? Answer: nan values are not ignored when grouping. Calculate the average weight per group. What happened to the third group and why does it not turn up in our statistics? Answer: the third group contains only nan values and is therefore not included in the statistics.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>grouped_data <span class="op">=</span> surveys_df.groupby([<span class="st">'sex'</span>, <span class="st">'plot_id'</span>])</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(grouped_data.groups))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>grouped_data.groups.keys()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>72</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>dict_keys([('F', 1), ('F', 2), ('F', 3), ('F', 4), ('F', 5), ('F', 6), ('F', 7), ('F', 8), ('F', 9), ('F', 10), ('F', 11), ('F', 12), ('F', 13), ('F', 14), ('F', 15), ('F', 16), ('F', 17), ('F', 18), ('F', 19), ('F', 20), ('F', 21), ('F', 22), ('F', 23), ('F', 24), ('M', 1), ('M', 2), ('M', 3), ('M', 4), ('M', 5), ('M', 6), ('M', 7), ('M', 8), ('M', 9), ('M', 10), ('M', 11), ('M', 12), ('M', 13), ('M', 14), ('M', 15), ('M', 16), ('M', 17), ('M', 18), ('M', 19), ('M', 20), ('M', 21), ('M', 22), ('M', 23), ('M', 24), (nan, 1), (nan, 2), (nan, 3), (nan, 4), (nan, 5), (nan, 6), (nan, 7), (nan, 8), (nan, 9), (nan, 10), (nan, 11), (nan, 12), (nan, 13), (nan, 14), (nan, 15), (nan, 16), (nan, 17), (nan, 18), (nan, 19), (nan, 20), (nan, 21), (nan, 22), (nan, 23), (nan, 24)])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>grouped_data[<span class="st">'weight'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>sex  plot_id
F    1          46.311138
     2          52.561845
     3          31.215349
     4          46.818824
     5          40.974806
     6          36.352288
     7          20.006135
     8          45.623011
     9          53.618469
     10         17.094203
     11         43.515075
     12         49.831731
     13         40.524590
     14         47.355491
     15         26.670236
     16         25.810427
     17         48.176201
     18         36.963514
     19         21.978599
     20         52.624406
     21         25.974832
     22         53.647059
     23         20.564417
     24         47.914405
M    1          55.950560
     2          51.391382
     3          34.163241
     4          48.888119
     5          40.708551
     6          36.867388
     7          21.194719
     8          49.641372
     9          49.519309
     10         19.971223
     11         43.366197
     12         48.909710
     13         40.097754
     14         45.159378
     15         27.523691
     16         23.811321
     17         47.558853
     18         43.546952
     19         20.306878
     20         44.197279
     21         22.772622
     22         54.572531
     23         18.941463
     24         39.321503
Name: weight, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="exercise-9" class="level3" data-number="11.0.10">
<h3 data-number="11.0.10" class="anchored" data-anchor-id="exercise-9"><span class="header-section-number">11.0.10</span> Exercise 9</h3>
<p>Would it make sense to group our data frame by the column <em>weight</em>? Why or why not?</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In real life nearly every sample has a unique value. So nearly every sample would </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># be placed in an own group.</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># In our training data you can see that there are quite some values for weight. So</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># usually it is not a good idea to categorise (group) data on such values.</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of rows:"</span>, <span class="bu">len</span>(surveys_df))</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(surveys_df[<span class="st">'weight'</span>].unique())) <span class="co">#includes nan</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(surveys_df.groupby([<span class="st">'weight'</span>]).groups)) <span class="co">#does not include nan</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of rows: 35549
256
255</code></pre>
</div>
</div>
</section>
<section id="exercise-10" class="level3" data-number="11.0.11">
<h3 data-number="11.0.11" class="anchored" data-anchor-id="exercise-10"><span class="header-section-number">11.0.11</span> Exercise 10</h3>
<p>In the given example of vertical concatenation, you concatenated two DataFrames with the same columns. What would happen if the two DataFrames to concatenate have different column number and names?</p>
<ol type="1">
<li>Create a new DataFrame using the last 10 rows of the species DataFrame (<code>species_df</code>);</li>
<li>Concatenate vertically <code>surveys_df_sub_first10</code> and your just created DataFrame;</li>
<li>Print the concatenated DataFrame info on the screen. How may rows does it have? What happened to the columns? Explain why you get this result.</li>
</ol>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>species_df <span class="op">=</span> pd.read_csv(<span class="st">"../../course_materials/data/species.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>species_df_sub_last10 <span class="op">=</span> species_df.tail(<span class="dv">10</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>surveys_df_sub_first10 <span class="op">=</span> surveys_df.head(<span class="dv">10</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>vert_concat <span class="op">=</span> pd.concat([surveys_df_sub_first10, species_df_sub_last10], axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>vert_concat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">record_id</th>
<th data-quarto-table-cell-role="th">month</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">hindfoot_length</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">genus</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>NL</td>
<td>M</td>
<td>32.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>NL</td>
<td>M</td>
<td>33.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>DM</td>
<td>F</td>
<td>37.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>7.0</td>
<td>DM</td>
<td>M</td>
<td>36.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>DM</td>
<td>M</td>
<td>35.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>PF</td>
<td>M</td>
<td>14.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>PE</td>
<td>F</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>M</td>
<td>37.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>9.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>F</td>
<td>34.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>10.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>6.0</td>
<td>PF</td>
<td>F</td>
<td>20.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>SS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Spermophilus</td>
<td>spilosoma</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>ST</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Spermophilus</td>
<td>tereticaudus</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>SU</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Sceloporus</td>
<td>undulatus</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>SX</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Sigmodon</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>UL</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Lizard</td>
<td>sp.</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>UP</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Pipilo</td>
<td>sp.</td>
<td>Bird</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>UR</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Rodent</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>US</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Sparrow</td>
<td>sp.</td>
<td>Bird</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">52</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>ZL</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Zonotrichia</td>
<td>leucophrys</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>ZM</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Zenaida</td>
<td>macroura</td>
<td>Bird</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We get a total of 20 rows and 12 columns. The original dataframes together had a total of 13 columns. As they both have a column <code>species_id</code>, this one is collapsed. All other columns are padded with <code>NaN</code> values. We expect 20 rows, as we are putting two DataFrames of 10 rows one after the other. The padding of the columns happens because these two DataFrames do not have the same column names. To keep all the information that was in the original DataFrames, the padding of columns that occur in only one of the two is necessary.</p>
</section>
<section id="exercise-11" class="level3" data-number="11.0.12">
<h3 data-number="11.0.12" class="anchored" data-anchor-id="exercise-11"><span class="header-section-number">11.0.12</span> Exercise 11</h3>
<ol type="1">
<li>Looking at the <code>inner_join</code> example, can you explain how much of each of the two DataFrames is missing from the result?</li>
</ol>
<p>Now consider the other types of joins, for each one, can you predict the number of rows and the contents of the resulting DataFrame, based on the diagrams in the picture?</p>
<ol start="2" type="1">
<li><p>For the outer join;</p></li>
<li><p>For the left join;</p></li>
<li><p>For the right join.</p></li>
<li><p>From the left DataFrame, three rows are not included in the <code>inner_join</code> DataFrame. This is because they have a value in their <code>species_id</code> column that is not present in the right DataFrame. From the right DataFrame, the information of 18 rows is missing from the result. This is because their <code>species_id</code> column has a value that does not occur in the left DataFrame. Note that the information from the two rows that are represented in the result is duplicated a number of times, as their <code>species_id</code> value occurs multiple times in the left DataFrame.</p></li>
<li><p>The result has a total of 28 rows. You may notice that the first seven of those rows are the same as the result of the inner join, followed by the three rows from the left DataFrame that are not represented in the inner join, and finally, the 18 rows from the right DataFrame that are not represented in the inner join. This makes for a total of 7 + 3 + 18 = 28 rows. The outer join preserves <em>all</em> the information from both the left and right DataFrames.</p></li>
</ol>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>left_df <span class="op">=</span> surveys_df.head(<span class="dv">10</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>right_df <span class="op">=</span> species_df.head(<span class="dv">20</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>outer_join <span class="op">=</span> pd.merge(left_df, right_df, left_on<span class="op">=</span><span class="st">'species_id'</span>, right_on<span class="op">=</span><span class="st">'species_id'</span>, how<span class="op">=</span><span class="st">'outer'</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>outer_join</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">record_id</th>
<th data-quarto-table-cell-role="th">month</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">hindfoot_length</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">genus</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>NL</td>
<td>M</td>
<td>32.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>NL</td>
<td>M</td>
<td>33.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>DM</td>
<td>F</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>7.0</td>
<td>DM</td>
<td>M</td>
<td>36.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>DM</td>
<td>M</td>
<td>35.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>8.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>M</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>9.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>F</td>
<td>34.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>6.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>PF</td>
<td>M</td>
<td>14.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>10.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>6.0</td>
<td>PF</td>
<td>F</td>
<td>20.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>7.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>PE</td>
<td>F</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AB</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Amphispiza</td>
<td>bilineata</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AH</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Ammospermophilus</td>
<td>harrisi</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Ammodramus</td>
<td>savannarum</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>BA</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Baiomys</td>
<td>taylori</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CB</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Campylorhynchus</td>
<td>brunneicapillus</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CM</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Calamospiza</td>
<td>melanocorys</td>
<td>Bird</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CQ</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Callipepla</td>
<td>squamata</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Crotalus</td>
<td>scutalatus</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Cnemidophorus</td>
<td>tigris</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CU</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Cnemidophorus</td>
<td>uniparens</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CV</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Crotalus</td>
<td>viridis</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DO</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>ordii</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>spectabilis</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DX</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>EO</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Eumeces</td>
<td>obsoletus</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>GS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Gambelia</td>
<td>silus</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NX</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Neotoma</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>OL</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Onychomys</td>
<td>leucogaster</td>
<td>Rodent</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol start="3" type="1">
<li>Ten rows. The resulting DataFrame closely resembles the original left DataFrame, but with information from the right DataFrame added to it, where applicable.</li>
</ol>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3.</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>left_join <span class="op">=</span> pd.merge(left_df, right_df, left_on<span class="op">=</span><span class="st">'species_id'</span>, right_on<span class="op">=</span><span class="st">'species_id'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>left_join</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">record_id</th>
<th data-quarto-table-cell-role="th">month</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">hindfoot_length</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">genus</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>2</td>
<td>NL</td>
<td>M</td>
<td>32.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>3</td>
<td>NL</td>
<td>M</td>
<td>33.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>2</td>
<td>DM</td>
<td>F</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>7</td>
<td>DM</td>
<td>M</td>
<td>36.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>3</td>
<td>DM</td>
<td>M</td>
<td>35.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>1</td>
<td>PF</td>
<td>M</td>
<td>14.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>2</td>
<td>PE</td>
<td>F</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>1</td>
<td>DM</td>
<td>M</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>9</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>1</td>
<td>DM</td>
<td>F</td>
<td>34.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>10</td>
<td>7</td>
<td>16</td>
<td>1977</td>
<td>6</td>
<td>PF</td>
<td>F</td>
<td>20.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol start="4" type="1">
<li>25 rows. The resulting DataFrame closely resembles the original right DataFrame, but with information from the left DataFrame added to it, where applicable. Note that rows from the right DataFrame that have multiple matching rows in the left DataFrame are duplicated.</li>
</ol>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>right_join <span class="op">=</span> pd.merge(left_df, right_df, left_on<span class="op">=</span><span class="st">'species_id'</span>, right_on<span class="op">=</span><span class="st">'species_id'</span>, how<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>right_join</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">record_id</th>
<th data-quarto-table-cell-role="th">month</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">plot_id</th>
<th data-quarto-table-cell-role="th">species_id</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">hindfoot_length</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">genus</th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">taxa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AB</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Amphispiza</td>
<td>bilineata</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AH</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Ammospermophilus</td>
<td>harrisi</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>AS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Ammodramus</td>
<td>savannarum</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>BA</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Baiomys</td>
<td>taylori</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CB</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Campylorhynchus</td>
<td>brunneicapillus</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CM</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Calamospiza</td>
<td>melanocorys</td>
<td>Bird</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CQ</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Callipepla</td>
<td>squamata</td>
<td>Bird</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Crotalus</td>
<td>scutalatus</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CT</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Cnemidophorus</td>
<td>tigris</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CU</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Cnemidophorus</td>
<td>uniparens</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>CV</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Crotalus</td>
<td>viridis</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>3.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>DM</td>
<td>F</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>4.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>7.0</td>
<td>DM</td>
<td>M</td>
<td>36.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>5.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>DM</td>
<td>M</td>
<td>35.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>8.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>M</td>
<td>37.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>9.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>1.0</td>
<td>DM</td>
<td>F</td>
<td>34.0</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>merriami</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DO</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>ordii</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>spectabilis</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>DX</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Dipodomys</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>EO</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Eumeces</td>
<td>obsoletus</td>
<td>Reptile</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>GS</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Gambelia</td>
<td>silus</td>
<td>Reptile</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>1.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>2.0</td>
<td>NL</td>
<td>M</td>
<td>32.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>2.0</td>
<td>7.0</td>
<td>16.0</td>
<td>1977.0</td>
<td>3.0</td>
<td>NL</td>
<td>M</td>
<td>33.0</td>
<td>NaN</td>
<td>Neotoma</td>
<td>albigula</td>
<td>Rodent</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NX</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Neotoma</td>
<td>sp.</td>
<td>Rodent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>OL</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Onychomys</td>
<td>leucogaster</td>
<td>Rodent</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="exercise-12" class="level3" data-number="11.0.13">
<h3 data-number="11.0.13" class="anchored" data-anchor-id="exercise-12"><span class="header-section-number">11.0.13</span> Exercise 12</h3>
<p>Time to play with plots! Create a multiplot following these instructions: - Using the matplotlib.pyplot function <code>subplots()</code>, create a single figure (10x10 inches) with four subplots organized in two rows and two columns; - In the top row plot hindfoot_length VS weight for female and male in two different plots with two different colors; - In the bottom row, plot the same data of the top row, but using data collected before (left plot) and after (right plot) 1990; - Give to each plot an appropriate descriptive title and customize the plot labels. <br></p>
<p>Feel free to use the DataFrame <code>plot</code> method or <code>plt.scatter</code> function to plot data points, but be awave that, in any case, the first thing to do is creating <em>Figure</em> and <em>Axes</em>.<br> EXTRA: The four plots have same x and y axes spanning the same range. Can you remove the space between the four plots? Try it!</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>,<span class="dv">2</span>,figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">10</span>)) <span class="co"># prepare a matplotlib figure</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Top left plot, male data</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>surveys_df[surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'M'</span>].plot(<span class="st">"hindfoot_length"</span>, <span class="st">"weight"</span>, kind<span class="op">=</span><span class="st">"scatter"</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>][<span class="dv">0</span>], color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>][<span class="dv">0</span>].set_title(<span class="st">'Male data'</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>][<span class="dv">0</span>].grid()</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Top right plot, female data</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>surveys_df[surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'F'</span>].plot(<span class="st">"hindfoot_length"</span>, <span class="st">"weight"</span>, kind<span class="op">=</span><span class="st">"scatter"</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>][<span class="dv">1</span>], color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>][<span class="dv">1</span>].set_title(<span class="st">'Female data'</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>][<span class="dv">1</span>].grid()</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> <span class="dv">2000</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom left plot, male data</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>surveys_df[(surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'M'</span>) <span class="op">&amp;</span> (surveys_df[<span class="st">'year'</span>] <span class="op">&lt;</span> year)].plot(<span class="st">"hindfoot_length"</span>, <span class="st">"weight"</span>, kind<span class="op">=</span><span class="st">"scatter"</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>][<span class="dv">0</span>], color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>][<span class="dv">0</span>].set_title(<span class="ss">f'Male data (&lt; </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>][<span class="dv">0</span>].grid()</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom right plot, male data</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>surveys_df[(surveys_df[<span class="st">'sex'</span>]<span class="op">==</span><span class="st">'F'</span>) <span class="op">&amp;</span> (surveys_df[<span class="st">'year'</span>] <span class="op">&gt;=</span> year)].plot(<span class="st">"hindfoot_length"</span>, <span class="st">"weight"</span>, kind<span class="op">=</span><span class="st">"scatter"</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>][<span class="dv">1</span>], color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>][<span class="dv">1</span>].set_title(<span class="ss">f'Female data (&gt;= </span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>][<span class="dv">1</span>].grid()</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing individual plot labels</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>        axes[i][j].set_xlabel(<span class="st">''</span>)</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>        axes[i][j].set_ylabel(<span class="st">''</span>)</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Initializing figure labels</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>fig.supxlabel(<span class="st">"Hindfoot Length [cm]"</span>,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>fig.supylabel(<span class="st">"Weight [Kg]"</span>,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">'Scatter plot of weight versus hindfoot length'</span>, fontsize<span class="op">=</span><span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>Text(0.5, 0.98, 'Scatter plot of weight versus hindfoot length')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="afternoon_exercises_solutions_files/figure-html/cell-19-output-2.png" width="864" height="950"></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../solutions/morning_exercises_solutions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Morning Exercises: Python fundamentals</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../what-next.html" class="pagination-link">
        <span class="nav-page-text">What Next?</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>